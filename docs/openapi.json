{
  "openapi": "3.0.3",
  "info": {
    "title": "Notification Service API",
    "version": "1.0.0",
    "description": "Serviço de notificações com templates, filas e notificações."
  },
  "paths": {
    "/notifications/v1/templates": {
      "get": {
        "summary": "Listar templates",
        "tags": ["templates"],
        "responses": {
          "200": {
            "description": "Lista de templates"
          }
        }
      },
      "post": {
        "summary": "Criar template",
        "tags": ["templates"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["nome", "assunto", "corpo"],
                "properties": {
                  "nome": {"type": "string"},
                  "assunto": {"type": "string"},
                  "corpo": {"type": "string"}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Template criado"
          }
        }
      }
    },
    "/notifications/v1/filas": {
      "get": {
        "summary": "Listar fila de emails",
        "tags": ["filas"],
        "responses": {
          "200": {
            "description": "Status da fila"
          }
        }
      }
    },
    "/notifications/v1/filas/{id}/retry": {
      "post": {
        "summary": "Retentar envio de email",
        "tags": ["filas"],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "responses": {
          "200": {
            "description": "Reenvio executado"
          }
        }
      }
    },
    "/notifications/v1/notificacoes/{usuarioId}": {
      "get": {
        "summary": "Listar notificações do usuário",
        "tags": ["notificacoes"],
        "parameters": [
          {"name": "usuarioId", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "responses": {
          "200": {
            "description": "Lista de notificações do usuário"
          }
        }
      }
    }
  }
}